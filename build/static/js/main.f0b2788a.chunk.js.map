{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilter","value","onChange","PersonForm","props","handleSubmitPerson","newName","setNewName","newNumber","setNewNumber","onSubmit","e","target","type","Person","person","handleDeletePerson","name","number","onClick","id","Persons","filteredPersons","persons","length","map","filteredPerson","key","baseURL","getAll","axios","get","then","response","data","create","newPerson","post","deleteOne","delete","update","updatedPerson","put","Notification","newMessage","newError","style","color","fontStyle","fontSize","background","borderStyle","borderRadius","padding","margin","App","useState","setPersons","setFilteredPersons","setNewFilter","setNewMessage","setNewError","useEffect","personsService","newFilteredPersons","filter","toLowerCase","includes","event","preventDefault","some","alert","message","window","confirm","find","setTimeout","catch","error","ele","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f0b2788a.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ newFilter, handleFilter}) => (\n    <div>\n      filter shown with <input value={newFilter} onChange={handleFilter()} />\n    </div>\n  )\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = props => {\n  const {handleSubmitPerson, newName, setNewName, newNumber, setNewNumber} = props;\n  return (\n    <form onSubmit={handleSubmitPerson}>\n      <div>\n        name: <input value={newName} onChange={e => setNewName(e.target.value)} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={e => setNewNumber(e.target.value)} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Person = ({person, handleDeletePerson}) =>\n  <li>\n    {person.name} {person.number}\n    <button onClick={() => handleDeletePerson(person.name, person.id)}>Delete</button>\n  </li>\n\n\nexport default Person;\n","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({newFilter, filteredPersons, persons, handleDeletePerson}) => {\n  const displayNumbers = () => {\n    if (newFilter) {\n      if (filteredPersons.length) {\n        return filteredPersons.map(filteredPerson =>\n          <Person key={filteredPerson.id} person={filteredPerson} handleDeletePerson={handleDeletePerson}/>)\n      }\n      return <li>no results</li>\n    }\n    return persons.map(person => <Person key={person.id} person={person} handleDeletePerson={handleDeletePerson}/>)\n  }\n\n  return (\n    <ul>\n      {displayNumbers()}\n    </ul>\n  )\n}\n\nexport default Persons;\n","import axios from 'axios';\n\nconst baseURL = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseURL);\n  return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n  const request = axios.post(baseURL, newPerson);\n  return request.then(response => response.data)\n}\n\nconst deleteOne = id => {\n  const request = axios.delete(`${baseURL}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, updatedPerson) => {\n  const request = axios.put(`${baseURL}/${id}`, updatedPerson)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, deleteOne, update }\n","import React from 'react';\n\nconst Notification = ({newMessage, newError}) => {\n  if (!newMessage) return null;\n\n  const successStyles = {\n    color: 'green',\n    fontStyle: 'italic',\n    fontSize: 16,\n    background: 'lightgrey',\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    margin: 10\n  };\n\n  const errorStyles = {\n    color: 'red',\n    fontStyle: 'italic',\n    fontSize: 16,\n    background: 'lightgrey',\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    margin: 10\n  };\n\n  return (\n    <div style={newError ? errorStyles: successStyles}>\n      <p>{newMessage}</p>\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personsService from './services/persons';\nimport Notification from './components/Notification';\n\nfunction App() {\n  const [persons, setPersons] = useState([]);\n  const [filteredPersons, setFilteredPersons] = useState([])\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [newFilter, setNewFilter] = useState('');\n  const [newMessage, setNewMessage] = useState(null)\n  const [newError, setNewError] = useState(false);\n\n  useEffect(() => {\n    personsService\n      .getAll()\n        .then(data => {\n          setPersons(data)\n        });\n  },[])\n\n  const handleFilter = () => (e) => {\n    const value = e.target.value\n    setNewFilter(value);\n    const newFilteredPersons =\n      persons.filter(person => person.name.toLowerCase().includes(value.toLowerCase()));\n    setFilteredPersons(newFilteredPersons);\n  };\n\n  const verifyNameAndNumber = () => {\n    return persons.some(person => {\n      return person.name.toLowerCase() === newName.toLowerCase() &&\n      person.number === newNumber\n    })\n  }\n\n  const verifyName = () =>\n    persons.some(person => person.name.toLowerCase() === newName.toLowerCase());\n\n  const handleSubmitPerson = (event) => {\n    event.preventDefault();\n\n    if (verifyNameAndNumber()) {\n      alert(`${newName} is already added to the phonebook`);\n    } else if(verifyName()) {\n      const message = `Would you like to replace the phone number of ${newName}?`;\n      const result = window.confirm(message);\n      if (result) {\n        const person = persons.find(person => {\n          return person.name.toLowerCase() === newName.toLowerCase()\n        })\n\n        personsService\n          .update(person.id, {name: person.name, number: newNumber})\n            .then((data) => {\n              setPersons(persons.map(person => person.id === data.id ? data : person))\n              setNewMessage(`The ${newName} phone number successfully replaced`);\n              setNewName('');\n              setNewNumber('');\n              setTimeout(() =>{\n                setNewMessage(null)\n              }, 3000)\n            })\n            .catch(error => {\n              setNewError(true)\n              setNewMessage(error.response.data.message);\n              setPersons(persons.filter(ele => ele.id !== person.id))\n              setTimeout(() => {\n                setNewMessage(null)\n                setNewError(false)\n              }, 3000)\n            })\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n\n      personsService\n        .create(newPerson)\n        .then(data => {\n          setPersons(persons.concat(data));\n          setNewMessage(`The new contact ${data.name} was successfully added`);\n          setNewName('');\n          setNewNumber('');\n          setTimeout(() =>{\n            setNewMessage(null)\n          }, 3000)\n        })\n        .catch(error => {\n          setNewError(true)\n          setNewMessage(error.response.data.message);\n          setTimeout(() => {\n            setNewMessage(null)\n            setNewError(false)\n          }, 3000)\n        })\n    }\n  };\n\n  const handleDeletePerson = (name, id) => {\n    const message = `Delete ${name}?`\n    const result = window.confirm(message);\n    if (result) {\n      personsService\n        .deleteOne(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n        })\n        .catch(error => {\n          setNewError(true)\n          setNewMessage(error.response.data.message);\n          setTimeout(() => {\n            setNewMessage(null)\n            setNewError(false)\n          }, 3000)\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification newMessage={newMessage} newError={newError}/>\n      <Filter newFilter={newFilter} handleFilter={handleFilter}/>\n      <h3>Add a new</h3>\n      <PersonForm\n        handleSubmitPerson={handleSubmitPerson}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}/>\n      <h2>Numbers</h2>\n      <Persons\n        newFilter={newFilter}\n        filteredPersons={filteredPersons}\n        persons={persons}\n        handleDeletePerson={handleDeletePerson}/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}